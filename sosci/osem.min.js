function saveToSoSci(o,e){var i=$("#"+e)[0];i.value=o}function saveClick(o,e,i){var t=Date.now()-timeLoad,s=i+o;saveToSoSci(e,s+"_01"),saveToSoSci(t,s+"_02"),saveToSoSci(timeLoad,s+"_03")}function getCoords(o){for(i=0;i<o.length;i++){var e,t=o[i].getBoundingClientRect();e=i<9?"CO0"+(i+1):"CO"+(i+1),saveToSoSci(t.top,e+"_01"),saveToSoSci(t.right,e+"_02"),saveToSoSci(t.bottom,e+"_03"),saveToSoSci(t.left,e+"_04")}}function getCursorPosition(o){o.Time=o.Time+cursorInterval,cursorX.slice(-1)[0]==o.X&&cursorY.slice(-1)[0]==o.Y||(cursorX.push(o.X),cursorY.push(o.Y),cursorTime.push(o.Time)),cursorX.length>cursorCutOff&&window.clearInterval(updateCursorPosition)}function getSelectionId(o){var e;return e=o<10?"0"+o:""+o,e}function saveCursor(o){var e="MO"+o;saveToSoSci(cursorX.join(),e+"_01"),saveToSoSci(cursorY.join(),e+"_02"),saveToSoSci(cursorTime.join(),e+"_03")}function timerUpdate(o){var e=o-Math.floor(Date.now()/1e3);if($("#osemBar .timerDisplay").text(e),e<0){window.clearInterval(displayTimer);var i,t=getSelectionId(counter);"spoke"===type?(i="DT",saveClick(t,osemId,i)):(i="CL",saveClick(t,osemId,i)),saveToSoSci(1,"OS01_05"),SoSciTools.submitPage()}}var i;Date.now||(Date.now=function(){return(new Date).getTime()});var spokes=$(".osemSpoke"),type=$("#osemBar").attr("data-osem-type"),timeLoad=Date.now(),timeOffset=Math.floor(timeLoad/1e3)-timeNow;endTime+=timeOffset,$(".submitButtons").css("display","none"),$(document).contextmenu(function(){return!1});var cursorPosition={X:0,Y:0,Time:0},cursorInterval=100,cursorCutOff=300,cursorX=[0],cursorY=[0],cursorTime=[0];if($(document).on("mousemove",function(o){cursorPosition.X=o.pageX,cursorPosition.Y=o.pageY}),"hub"===type)var updateCursorPosition=setInterval(function(){getCursorPosition(cursorPosition)},cursorInterval);endClicks<counter&&(saveToSoSci(1,"OS01_05"),SoSciTools.submitPage());var displayTimer=setInterval(function(){timerUpdate(endTime)},250);$(".osemAbort").click(function(){var o,e=getSelectionId(counter);"spoke"===type?(o="DT",saveClick(e,osemId,o)):(o="CL",saveClick(e,osemId,o)),saveToSoSci(1,"OS01_05"),saveToSoSci(1,"OS03_01"),SoSciTools.submitPage()}),counter,$(".osemClickable").mouseup(function(){var o,e=getSelectionId(counter);if("hub"===type){saveToSoSci(counter,"OS01_01");var i=$(this).closest(".osemSpoke"),t=i.attr("data-osem-spoke");o="CL",saveClick(e,t,o),saveToSoSci(t,"OS01_02"),saveCursor(e)}"spoke"===type&&(o="DT",saveClick(e,osemId,o),saveToSoSci(0,"OS01_02")),SoSciTools.submitPage()});